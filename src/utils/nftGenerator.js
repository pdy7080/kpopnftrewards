// utils/nftGenerator.js

// 아티스트별 이벤트 및 컨셉 데이터
const NFT_THEMES = {
  gidle: [
    { name: "I-LAND 월드투어 기념 주화", desc: "여자아이들의 첫 월드투어 'I-LAND'를 기념하여 제작된 한정판 주화입니다." },
    { name: "네버랜드 5주년 기념 주화", desc: "데뷔 5주년을 맞이한 여자아이들의 성장을 기념하는 특별 제작 주화입니다." },
    { name: "퀸덤2 우승 기념 주화", desc: "Mnet '퀸덤2' 우승을 기념하여 제작된 트로피 형태의 기념 주화입니다." },
    { name: "토마토소스 뮤직비디오 기념 주화", desc: "1억뷰를 돌파한 '토마토소스' 뮤직비디오를 기념하는 특별 주화입니다." },
    { name: "여자아이들 팬미팅 한정판 주화", desc: "2025 글로벌 팬미팅을 기념하여 제작된 멤버별 시그니처가 새겨진 주화입니다." }
  ],
  bibi: [
    { name: "휴먼 앨범 발매 기념 주화", desc: "BIBI의 메이저 앨범 'HUMAN'의 발매를 기념하는 특별 디자인 주화입니다." },
    { name: "아시아 투어 기념 주화", desc: "BIBI의 첫 아시아 투어 'BIBI IN ASIA'를 기념하는 한정판 주화입니다." },
    { name: "BIBI UNIVERSE 콘서트 주화", desc: "BIBI의 첫 단독 콘서트 'BIBI UNIVERSE'를 기념하는 스페셜 에디션 주화입니다." },
    { name: "베스트 뮤지션 수상 기념 주화", desc: "2024 올해의 여성 아티스트상 수상을 기념하는 트로피 모티브 주화입니다." },
    { name: "KAZINO 5억뷰 기념 주화", desc: "히트곡 'KAZINO'의 5억뷰 달성을 기념하는 특별 주화입니다." }
  ],
  chanwon: [
    { name: "미스터트롯 기념 주화", desc: "미스터트롯 준우승을 기념하여 제작된 특별한 트로피 디자인 주화입니다." },
    { name: "첫 단독 콘서트 기념 주화", desc: "이찬원의 첫 전국 투어 단독 콘서트를 기념하는 한정판 주화입니다." },
    { name: "국민가수 시즌1 주화", desc: "국민가수 시즌1 출연을 기념하는 특별 제작 주화입니다." },
    { name: "신곡 '우리 둘이' 발매 기념 주화", desc: "히트곡 '우리 둘이' 발매를 기념하여 제작된 음표 모티브 주화입니다." },
    { name: "팬미팅 투어 한정판 주화", desc: "2025 전국 팬미팅 투어를 기념하는 시그니처 각인 주화입니다." }
  ]
};

// 재질 및 특징 설명 배열
const COIN_FEATURES = [
  "순은(99.9%) 소재에 특수 코팅 처리되어 있으며,",
  "24K 골드 도금 처리된 고급 합금 소재로,",
  "실버와 골드 투톤으로 제작되어 입체감이 돋보이며,",
  "홀로그램 특수 코팅이 적용된 티타늄 합금으로,",
  "아티스트 시그니처가 레이저 각인된 한정판으로,"
];

// 디자인 설명 배열
const COIN_DESIGNS = [
  "앞면에는 아티스트 로고, 뒷면에는 이벤트 엠블럼이 새겨져 있습니다.",
  "앞면에는 멤버들의 실루엣, 뒷면에는 기념 문구가 정교하게 새겨져 있습니다.",
  "양면에 홀로그래픽 효과가 적용된 아티스트 공식 엠블럼이 새겨져 있습니다.",
  "앞면에는 아티스트 초상, 뒷면에는 이벤트 로고가 3D 엠보싱되어 있습니다.",
  "특수 에칭 기법으로 아티스트의 상징적인 이미지가 섬세하게 표현되어 있습니다."
];

// 발행 수량 및 희소성 설명 배열
const COIN_RARITY = [
  "전 세계 1,000개 한정 제작되었으며, 실물 주화 구매자에게만 제공되는 NFT입니다.",
  "국내외 3,000개 한정 생산된 공식 인증 주화의 디지털 소유권을 증명합니다.",
  "팬클럽 회원만을 위해 5,000개 한정 발행된 특별 에디션 주화입니다.",
  "공식 MD 한정판으로, 2,500개만 제작된 희소성 높은 컬렉터블 아이템입니다.",
  "이벤트 현장에서만 구매 가능했던 초희귀 주화로, 1,500개만 발행되었습니다."
];

// 소장 가치 설명 배열
const COIN_VALUE = [
  "아티스트의 중요한 발자취를 기념하는 소중한 컬렉터블 아이템입니다.",
  "K-POP 역사의 한 페이지를 간직할 수 있는 의미 있는 소장품입니다.",
  "팬이라면 놓칠 수 없는 아티스트 커리어의 상징적인 기념품입니다.",
  "시간이 지날수록 가치가 높아지는 특별한 컬렉션 아이템입니다.",
  "아티스트와 팬의 특별한 인연을 상징하는 프리미엄 기념 아이템입니다."
];

/**
 * NFT 이름 및 설명 생성 함수
 * @param {string} artistId - 아티스트 ID
 * @param {string} memberId - 멤버 ID
 * @returns {object} - name, description 속성을 가진 객체
 */
export const generateNFTDetails = (artistId, memberId) => {
  const eventNames = {
    gidle: [
      '2025 월드투어 기념 플래티넘 주화',
      '네버랜드 5주년 기념 골드 주화',
      '퀸덤2 우승 기념 스페셜 주화',
      '토마토소스 뮤직비디오 기념 실버 주화',
      '여자아이들 팬미팅 한정판 주화'
    ],
    bibi: [
      '휴먼 앨범 발매 기념 플래티넘 주화',
      '아시아 투어 기념 골드 주화',
      'BIBI UNIVERSE 콘서트 스페셜 주화',
      '베스트 뮤지션 수상 기념 실버 주화',
      'KAZINO 5억뷰 기념 한정판 주화'
    ],
    chanwon: [
      '미스터트롯 기념 플래티넘 주화',
      '첫 단독 콘서트 기념 골드 주화',
      '국민가수 시즌1 스페셜 주화',
      '신곡 우리 둘이 발매 기념 실버 주화',
      '팬미팅 투어 한정판 주화'
    ]
  };

  const descriptions = {
    gidle: [
      '전 세계 팬들과 함께하는 (여자)아이들의 첫 월드투어를 기념하여 제작된 플래티넘 주화입니다.',
      '데뷔 5주년을 맞이한 (여자)아이들의 성장과 성과를 기념하는 골드 주화입니다.',
      'Mnet 퀸덤2 우승을 기념하여 제작된 스페셜 에디션 주화입니다.',
      '토마토소스 뮤직비디오 1억뷰 달성을 기념하는 실버 주화입니다.',
      '전국 팬미팅 투어를 기념하여 제작된 한정판 주화입니다.'
    ],
    bibi: [
      '비비의 정규 앨범 [휴먼] 발매를 기념하여 제작된 플래티넘 주화입니다.',
      '첫 아시아 투어의 성공적인 개최를 기념하는 골드 주화입니다.',
      'BIBI UNIVERSE 단독 콘서트를 기념하는 스페셜 에디션 주화입니다.',
      '올해의 뮤지션상 수상을 기념하여 제작된 실버 주화입니다.',
      'KAZINO 뮤직비디오 5억뷰 달성을 기념하는 한정판 주화입니다.'
    ],
    chanwon: [
      '미스터트롯 준우승의 영광을 기념하는 플래티넘 주화입니다.',
      '첫 단독 콘서트의 성공적인 개최를 기념하는 골드 주화입니다.',
      '국민가수 시즌1 출연을 기념하는 스페셜 에디션 주화입니다.',
      '신곡 [우리 둘이] 발매를 기념하여 제작된 실버 주화입니다.',
      '전국 팬미팅 투어를 기념하여 제작된 한정판 주화입니다.'
    ]
  };

  const randomIndex = Math.floor(Math.random() * eventNames[artistId].length);
  
  return {
    name: eventNames[artistId][randomIndex],
    description: descriptions[artistId][randomIndex]
  };
};

/**
 * NFT 설명을 단락으로 분리하는 함수
 * @param {string} description - NFT 설명 텍스트
 * @returns {string[]} - 단락으로 분리된 설명 배열
 */
export const formatNFTDescription = (description) => {
  // 기존 설명을 의미 단위로 분리
  const parts = description.split('.');
  
  // 정리된 단락
  const paragraphs = [];
  
  // 이벤트 설명
  if (parts[0]) {
    paragraphs.push(parts[0] + '.');
  }
  
  // 주화 특징 설명
  const featuresDesc = parts.slice(1, 3).join('.');
  if (featuresDesc) {
    paragraphs.push(featuresDesc);
  }
  
  // 희소성 및 가치 설명
  const valueDesc = parts.slice(3).join('.');
  if (valueDesc) {
    paragraphs.push(valueDesc);
  }
  
  return paragraphs.length > 0 ? paragraphs : ["이 기념 주화 NFT는 K-POP 아티스트의 특별한 순간을 기념하는 디지털 소장품입니다."];
};